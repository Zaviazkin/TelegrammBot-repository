//t.me/BBBobbot
//1161475824:AAEefR64wLIqLK2zft_WNohsooFCLx_e2XY

const { Telegraf } = require("telegraf");

const bot = new Telegraf("1161475824:AAEefR64wLIqLK2zft_WNohsooFCLx_e2XY");

bot.start((ctx) => {
  if (ctx.from.last_name) {
    ctx.reply(`–ü—Ä–∏–≤–µ—Ç, ${ctx.from.first_name} ${ctx.from.last_name}!
  –Ø –±–æ—Ç –ë–æ–±–±–∏ ! )
  –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
  /cmds - –∏–Ω—Ñ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö –±–æ—Ç–∞`);
  } else {
    ctx.reply(`–ü—Ä–∏–≤–µ—Ç, ${ctx.from.first_name}!
    –Ø –±–æ—Ç –ë–æ–±–±–∏ ! )
  –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
  /cmds - –∏–Ω—Ñ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö –±–æ—Ç–∞`);
  }
});

bot.command("info", (ctx) => {
  ctx.reply(`–Ø –∏–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –±–æ—Ç - –ë–æ–±–∏,
  —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –∂–∏–∑–Ω–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!
  –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã,
  –∞–≤—Ç–æ—Ä : Roman Zaviazkin 
  zavyazkin8@gmail.com
  +996 708 733 000`);
});

const MY_SCHEDULE = [
  {
    dayName: "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ",
    lessons: ["–≤—ã—Ö–æ–¥–Ω–æ–π"],
  },

  {
    dayName: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫",
    lessons: [
      [
        "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
        " –≤—Ä–µ–º—è : 08:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –î–∂—É–º–∞–±–∞–µ–≤ –ê.–ê.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 1/114",
      ],
      [
        "–§–∏–∑–∏–∫–∞",
        " –≤—Ä–µ–º—è : 10:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –ê–ª–∏–µ–≤–∞ –ê.–ö.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 1/207",
      ],
      [
        "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",
        " –≤—Ä–µ–º—è : 12:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –õ–µ—Ä–º–∞–Ω—Ç–æ–≤ –§.–ù.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 2/217",
      ],
    ],
  },
  {
    dayName: "–í—Ç–æ—Ä–Ω–∏–∫",
    lessons: [
      [
        "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π",
        " –≤—Ä–µ–º—è : 08:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –°—Ç—Ä–∏–¥–∂ –ê.–ê.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 3/420",
      ],
      [
        "–ú–µ—Ö–∞–Ω–∏–∫–∞",
        " –≤—Ä–µ–º—è : 11:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –§–µ–¥–æ—Å–µ–µ–≤ –ê.–í.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 4/121",
      ],
      [
        "–ò—Å—Ç–æ—Ä–∏—è",
        " –≤—Ä–µ–º—è : 13:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –õ–æ–º–æ–Ω–æ—Å–æ–≤ –õ.–ù.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 2/114",
      ],
    ],
  },
  {
    dayName: "–°—Ä–µ–¥–∞",
    lessons: [
      [
        "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
        " –≤—Ä–µ–º—è : 08:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –î–∂—É–º–∞–±–∞–µ–≤ –ê.–ê.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 2/109",
      ],
      [
        "–§–∏–∑–∏–∫–∞",
        " –≤—Ä–µ–º—è : 10:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –ê–ª–∏–µ–≤–∞ –ê.–ö.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 1/114",
      ],
      [
        "–ë–∏–æ–ª–æ–≥–∏—è",
        " –≤—Ä–µ–º—è : 13:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –ë–∞–±–æ—á–∫–æ–≤–∞ –§.–ù.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 4/307",
      ],
    ],
  },
  {
    dayName: "–ß–µ—Ç–≤–µ—Ä–≥",
    lessons: [
      [
        "IT",
        " –≤—Ä–µ–º—è : 09:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –•–æ–≥–≤–∞—Ä–¥—Å –û.–°.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 1/102",
      ],
      [
        "–ò—Å—Å–∫—É—Å—Ç–≤–æ",
        " –≤—Ä–µ–º—è : 11:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –í—Ä—É–Ω –ê.–õ.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 4/214",
      ],
      [
        "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",
        " –≤—Ä–µ–º—è : 15:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –õ–µ—Ä–º–∞–Ω—Ç–æ–≤ –§.–ù.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 1/205",
      ],
    ],
  },
  {
    dayName: "–ü—è—Ç–Ω–∏—Ü–∞",
    lessons: [
      [
        "–ö—ã—Ä–≥—ã–∑—Å–∫–∏–π",
        " –≤—Ä–µ–º—è : 11:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –†—É—Å—Å–∫–∏—Ö –ê.–ê.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 4/254",
      ],
      [
        "–†—É—Å—Å–∫–∏–π",
        " –≤—Ä–µ–º—è : 13:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –ù–µ–∑–Ω–∞–π–∫–æ –ê.–û.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 5/108 ",
      ],
      [
        "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",
        " –≤—Ä–µ–º—è : 17:00",
        " –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å : –õ–µ—Ä–º–∞–Ω—Ç–æ–≤ –§.–ù.",
        " –∞—É–¥–∏—Ç–æ—Ä–∏—è : 3/202 ",
      ],
    ],
  },
  {
    dayName: "–°—É–±–±–æ—Ç–∞",
    lessons: ["–≤—ã—Ö–æ–¥–Ω–æ–π"],
  },
];

bot.command("schedule", (ctx) => {
  const today = new Date().getDay();
  const todayTime = new Date().getHours();
  const schedule = MY_SCHEDULE[today];
  function getLate() {
    for (let i in schedule.lessons) {
      let myTime = parseInt(schedule.lessons[i][1].slice(9, 11));
      if (myTime <= todayTime && myTime + 2 >= todayTime) {
        return `–£–∂–µ ${todayTime}:${new Date().getMinutes()} ! –¢—ã –æ–ø–∞–∑–¥—ã–≤–∞–µ—à—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ üò±üò±üò± `;
      } else if (myTime > todayTime && myTime + 2 > todayTime) {
        return `–°–µ–π—á–∞—Å ${todayTime}:${new Date().getMinutes()}, —Ç—ã —É—Å–ø–µ–≤–∞–µ—à—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ ü§óü§óü§ó`;
      } else if (myTime + 8 > todayTime && myTime + 3 < todayTime) {
        return `–°–µ–π—á–∞—Å ${todayTime}:${new Date().getMinutes()}, —Ç–≤–æ–∏ –∑–∞–Ω—è—Ç–∏–µ —É–∂–µ –¥–∞–≤–Ω–æ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—åü§ìü§ìü§ì`;
      } else {
        return `–°–µ–π—á–∞—Å ${todayTime}:${new Date().getMinutes()}, —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ –Ω–µ —Å–∫–æ—Ä–æüòáüòáüòá`;
      }
    }
  }

  if (today > 5) {
    today === 6
      ? ctx.reply("–°–µ–≥–æ–¥–Ω—è —Å—É–±–±–æ—Ç–∞, –∫–∞–∫–∏–µ —É—Ä–æ–∫–∏ ?")
      : ctx.reply("–°–µ–≥–æ–¥–Ω—è –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, –∫–∞–∫–∏–µ —É—Ä–æ–∫–∏ ?");
  } else {
    ctx.reply(`
      –°–µ–≥–æ–¥–Ω—è ${schedule.dayName} ü§Øü§Øü§Ø
    
      –í–∞—à–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
      ${schedule.lessons.map((item) => {
        return `\n ${item},\n `;
      })}

      ${getLate()}
  `);
  }
});

const JOKES_ARRAY = [
  "–ö–∞—Å—Å–∏—Ä—à–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: ‚Äî –ú–æ–ª–æ–¥–æ–π —á–µ–ª–æ–≤–µ–∫, –º–µ–ª–æ—á—å –Ω–µ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ? –ü–æ–∫—É–ø–∞—Ç–µ–ª—å: ‚Äî –ù—É... –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ... ü§£ü§£ü§£",
  "- –î–µ–≤—É—à–∫–∞, –∞ —Å–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?- –í–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å –ª–µ—Ç –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤.- –ê –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ - —Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤?- –°—Ç–æ —à–µ—Å—Ç—å–¥–µ—Å—è—Ç –≤–æ—Å–µ–º—å...ü§£ü§£ü§£",
  "–£—Ä–æ–∫ –±–∏–æ–ª–æ–≥–∏–∏. –£—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –≥–æ–≤–æ—Ä–∏—Ç –¥–µ—Ç—è–º: ‚Äî –î–µ—Ç–∏! –í—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç—ã—á–∏–Ω–∫–∞ –∏ –ø–µ—Å—Ç–∏–∫ —É —Ü–≤–µ—Ç–æ—á–∫–æ–≤ ‚Äî —ç—Ç–æ –æ—Ä–≥–∞–Ω—ã —Ä–∞–∑–º–Ω–æ–∂–µ–Ω–∏—è. –° –∑–∞–¥–Ω–µ–π –ø–∞—Ä—Ç—ã –í–æ–≤–æ—á–∫–∞: ‚Äî –¢–≤–æ—é –º–∞—Ç—å! –ê —è –∏—Ö –Ω—é—Ö–∞–ª. ü§£ü§£ü§£",
  "‚Äî –ê —è —Å–µ–≥–æ–¥–Ω—è –∫–æ—Ç–∞ –∫—É–ø–∏–ª. ‚Äî –ó–∞—á–µ–º? ‚Äî –ñ–µ–Ω–∞ –º—ã—à–µ–π –±–æ–∏—Ç—Å—è. ‚Äî –ê –º—ã—à–∏ –æ—Ç–∫—É–¥–∞? ‚Äî –°–∞–º –≤—á–µ—Ä–∞ –ø—Ä–∏–Ω–µ—Å. ‚Äî –î–ª—è —á–µ–≥–æ?!! ‚Äî –î–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª –∫–æ—Ç–∞ –∑–∞–≤–µ—Å—Ç–∏...ü§£ü§£ü§£",
  "- –ï—Å—Ç—å –ª–∏ —É —Ç–µ–±—è –º–µ—á—Ç–∞? - –ï—Å—Ç—å. - –ö–∞–∫–∞—è? - –•–æ—á—É –±—Ä–æ—Å–∏—Ç—å –ø–∏—Ç—å. - –¢–∞–∫ –±—Ä–æ—Å—å. - –ê –∫–∞–∫ –ø–æ—Ç–æ–º –∂–∏—Ç—å –±–µ–∑ –º–µ—á—Ç—ã? ü§£ü§£ü§£",
];

function getRandomArbitrary(min, max) {
  return parseInt(Math.random() * (max - min) + min);
}

bot.command("joke", (ctx) => {
  const random = getRandomArbitrary(0, 4);
  const jokeRandom = JOKES_ARRAY[random];
  ctx.reply(jokeRandom);
});

bot.command("help", (ctx) => {
  ctx.reply(`–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ —Ä–∞–∑–¥–µ–ª–µ –ø–æ–º–æ—â—å:
  –ø–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç - /advice`);
});

bot.command("advice", (ctx) => {
  ctx.reply(`–õ—é–¥–∏ –≤—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç: ¬´–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ —Ç–∞,
   –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å¬ª.
    –≠—Ç–æ –ù–ï–í–ï–†–ù–û–ï –£–¢–í–ï–†–ñ–î–ï–ù–ò–ï. –•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî —ç—Ç–æ —Ç–∞ —Ä–∞–±–æ—Ç–∞,
     –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ —Ç–µ—Ä–ø–µ—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π,
      –∏ –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω–∞ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –≤–∞—à–∏ —Ä–∞—Å—Ö–æ–¥—ã.
       –ü–æ—á—Ç–∏ –Ω–∏ —É –∫–æ–≥–æ –Ω–µ—Ç —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ–±–æ–∂–∞—Ç—å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É.`);
});

bot.command("cmds", (ctx) => {
  ctx.reply(`–ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:\n
  /cmds - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö –±–æ—Ç–∞ \n
  /info - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ (–æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä –∏ —Ç–¥.) \n
  /help - —Ä–∞–∑–¥–µ–ª –ø–æ–º–æ—â–∏ \n
  /schedule - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –∑–∞–Ω—è—Ç–∏–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è \n
  /joke - —à—É—Ç–∫–∞ –æ—Ç –±–æ—Ç–∞ \n
  `);
});



bot.on("sticker", (ctx) => {
  ctx.reply("–ù–µ–ª—å–∑—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∏–∫–µ—Ä—ã!!! ü§™");
});

function startBot() {
  bot.launch();
  console.log("bot is started");
}

startBot();
